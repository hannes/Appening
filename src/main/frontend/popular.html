<!DOCTYPE html>
<html>
<head>
<title>Appening Amsterdam - Popular Places</title>

<!--  jQuery and Plugins -->
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>


<link rel="icon" type="image/png" href="js/appening-favicon.png" />


<link rel="stylesheet"
	href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.css" />
<!--[if lte IE 8]>
     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" />
 <![endif]-->

<script src="http://cdn.leafletjs.com/leaflet-0.4/leaflet.js"></script>

<style type="text/css">
body {
	background-color: black;
}

#map {
	position: absolute;
	top: 0px;
	left: 0px;
	bottom: 0px;
	right: 0px;
}
</style>

</head>
<body>

	<div id="map"></div>


	<script type="text/javascript">
		var popularIcon = L.icon({
			iconUrl : 'img/popular-icon.png',
			iconSize : [ 30, 30 ],
			//iconAnchor : [ 22, 94 ],
		});
		
		CM_ATTR = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
		'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
		'Imagery © <a href="http://cloudmade.com">CloudMade</a>';

		$.getJSON('res/popular.json', function(data) {
			$.each(data, function(index, place) {
				console.log(place);
				var marker = L.marker([ place.lat, place.lng ], {
					title : place.name,
					icon : popularIcon
				}).addTo(map);

			});

		});

		var map = L.map('map').setView([ 52.3741, 4.897 ], 14);

		L
				.tileLayer(
						'http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png',
						{
							key : '6d79a1cb61634905948a69c27c6f13d1',
							styleId : 75458,
							maxZoom : 18,
							attribution : CM_ATTR,

						}).addTo(map);
	</script>

</body>
</html>


